{\rtf1\ansi\ansicpg1252\cocoartf949\cocoasubrtf330
{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fnil\fcharset0 AndaleMono;}
{\colortbl;\red255\green255\blue255;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid0\'02\'05.;}{\levelnumbers\'01;}}{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid0\'02\'05.;}{\levelnumbers\'01;}}{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid0\'02\'05.;}{\levelnumbers\'01;}}{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid0\'02\'05.;}{\levelnumbers\'01;}}{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid0\'02\'05.;}{\levelnumbers\'01;}}{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid0\'02\'05.;}{\levelnumbers\'01;}}{\listname ;}\listid6}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}}
\margl1440\margr1440\vieww21600\viewh16560\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\b\fs48 \cf0 Natto CMS\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural

\b0\fs24 \cf0 \
This is the 4th incarnation, and 2nd Ruby on Rails version, of the content management system used by Dan and Dave Nawara.  This time, however, we're taking it a little more serious.  We're also pimpin' it out in Rails 2.x, so get ready for easy CMS goodness.\
\
This is simply the CMS core; to get more functionality, look around for plugins.\
\

\b\fs36 Installation\

\b0\fs24 \
Natto requires the following plugins installed:\
\
\pard\tx220\tx720\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\li720\fi-720\ql\qnatural\pardirnatural
\ls1\ilvl0\cf0 {\listtext	\'95	}Engines					{\field{\*\fldinst{HYPERLINK "git://github.com/lazyatom/engines.git"}}{\fldrslt git://github.com/lazyatom/engines.git}}\
{\listtext	\'95	}acts_as_tree				{\field{\*\fldinst{HYPERLINK "git://github.com/rails/acts_as_tree.git"}}{\fldrslt git://github.com/rails/acts_as_tree.git}}\
{\listtext	\'95	}acts_as_state_machine		{\field{\*\fldinst{HYPERLINK "git://github.com/freels/acts_as_state_machine.git"}}{\fldrslt git://github.com/freels/acts_as_state_machine.git}}\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 \
Please also install these as Gems:\
\
\pard\tx220\tx720\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\li720\fi-720\ql\qnatural\pardirnatural
\ls2\ilvl0\cf0 {\listtext	\'95	}htmlentities\
{\listtext	\'95	}mattetti-googlecharts		{\field{\*\fldinst{HYPERLINK "git://github.com/mattetti/googlecharts.git"}}{\fldrslt git://github.com/mattetti/googlecharts.git}}\
{\listtext	\'95	}Ya2YAML				{\field{\*\fldinst{HYPERLINK "git://github.com/ptb/ya2yaml.git"}}{\fldrslt git://github.com/ptb/ya2yaml.git}}\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 Set up the plugin routes, by editing your application's routes.rb file and adding this line:\
\

\fs20 	
\f1\fs24 map.from_plugin :natto
\f0 \
\
This will load the routes from 
\f1 RAILS_ROOT/vendor/plugins/natto/routes.rb
\f0 .  If you end up with routing issues down the road, make sure you don't have conflicts with this file.\
\
Go into the Natto plugin directory, and run the install script.  This will create a backups folder, remove some of the files which the rails command generates, and copy over configuration files.\
\
	
\f1 cd vendor/plugins/natto\
	ruby install.rb
\f0 \
\
The install also generates your site keys, which help to better secure your encrypted passwords.  If you would like to use your own site keys settings, please make the changes before you run the bootstrap command.  Note the generated site_keys.rb file looks a lot like the ones from the restful_authentication plugin.  I basically copied their code for the authentication system (thanks, gang!).\
\
Specifically, install.rb deletes the following (go ahead and just do it manually, if you like):\
\
\pard\tx220\tx720\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\li720\fi-720\ql\qnatural\pardirnatural
\ls3\ilvl0
\f1 \cf0 {\listtext	\'95	}RAILS_ROOT/public/index.html\
{\listtext	\'95	}RAILS_ROOT/public/images/rails.png\
{\listtext	\'95	}RAILS_ROOT/app/controllers/application.rb\
{\listtext	\'95	}RAILS_ROOT/app/helpers/application_helper.rb\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 \
\pard\tx220\tx720\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\li720\fi-720\ql\qnatural\pardirnatural
\ls4\ilvl0
\f0 \cf0 It also copies the following from the plugin directory to your application's configuration:\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 \
\pard\tx220\tx720\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\li720\fi-720\ql\qnatural\pardirnatural
\ls5\ilvl0
\f1 \cf0 {\listtext	\'95	}PLUGIN_ROOT/config/mail.yml\
{\listtext	\'95	}PLUGIN_ROOT/config/hide_from_js_nav.yml\
{\listtext	\'95	}PLUGIN_ROOT/config/initializers/mail.rb\
{\listtext	\'95	}PLUGIN_ROOT/config/initializers/hide_from_js_nav.rb\
{\listtext	\'95	}PLUGIN_ROOT/config/initializers/site_keys.rb\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural

\f0 \cf0 You can now build and populate the system's database.  This will create an admin/admin user for you by default.  Edit 
\f1 PLUGIN_ROOT/db/bootstrap/users.yml
\f0  to change the credentials of your administrative user (before you bootstrap), or just build a new one once you're up and running.  Please note again that encrypted passwords are dependent on your site keys being properly set up.  (Run the install.rb file before you do this!)  Your database should not have any pre-existing data, for this to work.\
\
\pard\pardeftab720\ql\qnatural

\f1 \cf0 	$ script/generate plugin_migration\
	$ rake db:migrate\
	$ rake natto:bootstrap
\f0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 \
You may wish to set some configuration variables in your environment files.  The Natto module declares the following variables:\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural

\f1 \cf0 \
\pard\tx220\tx720\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\li720\fi-720\ql\qnatural\pardirnatural
\ls6\ilvl0
\f0 \cf0 {\listtext	\'95	}
\f1 Natto.site_title = "Natto CMS"
\f0 \
{\listtext	\'95	}
\f1 Natto.host       = "localhost:3000"
\f0 \
{\listtext	\'95	}
\f1 Natto.tango_home = "/plugin_assets/natto/images/tango-icon-theme/"
\f0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural\pardirnatural
\cf0 \
You will most likely end up overriding the first two variables.  The 
\f1 host
\f0  variable should most likely get overridden inside each 
\f1 environments/*.rb
\f0  file.\
\
If you want to use your own version of a controller or helper, I recommend that you copy the one from the Natto plugin, or better yet, extend it.  Also, remember that you can copy views to your main application and then edit those in place.\
\

\i\fs28 Do not directly edit any files in the Natto plugin, or you will break your system if you update!
\i0\fs24 \
}